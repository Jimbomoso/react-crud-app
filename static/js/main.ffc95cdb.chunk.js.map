{"version":3,"sources":["tables/UserTable.jsx","forms/AddUserForm.jsx","forms/EditUserForm.jsx","hooks/useAsyncRequest.js","App-async.js","index.js"],"names":["UserTable","props","users","length","map","user","id","name","username","onClick","deleteUser","editUser","colSpan","AddUserForm","useState","setUser","handleChange","e","target","value","className","type","onChange","preventDefault","addUser","EditUserForm","useEffect","currentUser","updateUser","setEditing","useAsyncRequest","amount","data","setData","loading","setLoading","a","fetch","response","json","results","console","warn","fetchData","App","setUsers","formattedUsers","obj","i","first","last","editing","initialUser","setCurrentUser","newUser","filter","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ffc95cdb.chunk.js","sourcesContent":["import React from 'react';\n\nconst UserTable = (props) => {\n    return (\n        <table>\n            <thead>\n                <tr>\n                    <th>ID</th>\n                    <th>Name</th>\n                    <th>Username</th>\n                    <th>Actions</th>\n                </tr>\n            </thead>\n            <tbody>\n                { props.users.length > 0 ? (\n                    props.users.map(user => {\n                        const {id, name, username} = user;\n                        return (\n                            <tr key={id}>\n                                <td>{id}</td>\n                                <td>{name}</td>\n                                <td>{username}</td>\n                                <td>\n                                    <button onClick={() => props.deleteUser(id)}>Delete</button>\n                                    <button onClick={() => props.editUser(id, user)}>Edit</button>\n                                </td>\n                            </tr>\n                        )\n                    })\n                ) : (\n                    <tr>\n                        <td colSpan={4}>No users found</td>\n                    </tr>\n                )   \n                }\n            </tbody>\n        </table>\n    )\n}\n\nexport default UserTable;","import React, {useState} from 'react';\n\nconst AddUserForm = (props) => {\n\n    const initUser = {id: null, name: '', username: ''};\n\n    const [user, setUser] = useState(initUser);\n\n    const handleChange = e => {\n        const {name, value} = e.target;\n        setUser({...user, [name]: value});\n    }\n\n    const handleSubmit = e => {\n        e.preventDefault();\n        if (user.name && user.username) {\n            handleChange(e, props.addUser(user));\n        }\n    }\n\n    return (\n        <form>\n            <label>Name</label>\n            <input className=\"u-full-width\" type=\"text\" value={user.name} name=\"name\" onChange={handleChange} />\n            <label>Username</label>\n            <input className=\"u-full-width\" type=\"text\" value={user.username} name=\"username\" onChange={handleChange} />\n            <button className=\"button-primary\" type=\"submit\" onClick={handleSubmit} >Add user</button>\n        </form>\n    )\n}\n\nexport default AddUserForm;","import React, {useState, useEffect} from 'react';\n\nconst EditUserForm = (props) => {\n\n    useEffect(() => {\n        setUser(props.currentUser)\n    }, [props])\n\n    const [user, setUser] = useState(props.currentUser);\n\n    const handleChange = e => {\n        const {name, value} = e.target;\n        setUser({...user, [name]: value});\n        }\n\n    const handleSubmit = e => {\n        e.preventDefault();\n        if (user.name && user.username) props.updateUser(user);\n    }\n\n    return (\n        <form>\n            <label>Name</label>\n            <input className=\"u-full-width\" type=\"text\" value={user.name} name=\"name\" onChange={handleChange} />\n            <label>Username</label>\n            <input className=\"u-full-width\" type=\"text\" value={user.username} name=\"username\" onChange={handleChange} />\n            <button className=\"button-primary\" type=\"submit\" onClick={handleSubmit} >Edit user</button>\n            <button type=\"submit\" onClick={() => props.setEditing(false)} >Cancel</button>\n        </form>\n    )\n}\n\nexport default EditUserForm;\n","import { useState, useEffect } from \"react\";\n\nconst useAsyncRequest = (amount) => {\n  const [data, setData] = useState(null);\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setLoading(true);\n        const response = await fetch(\n          `https://randomuser.me/api/?results=${amount}`\n        );\n        const json = await response.json();\n        setData(json.results, setLoading(false));\n      } catch (err) {\n        console.warn(\"Something went wrong fetching the API...\", err);\n        setLoading(false);\n      }\n    };\n\n    if (amount) {\n      fetchData(amount);\n    }\n  }, [amount]);\n\n  return [data, loading];\n};\n\nexport default useAsyncRequest;","import React, { useState, useEffect } from \"react\";\nimport UserTable from \"./tables/UserTable\";\nimport AddUserForm from \"./forms/AddUserForm\";\nimport EditUserForm from \"./forms/EditUserForm\";\n\nimport { useAsyncRequest } from \"./hooks\";\n\nconst App = () => {\n  const [data, loading] = useAsyncRequest(5);\n  // Fixed array of users:\n  // const [users, setUsers] = userList;\n  const [users, setUsers] = useState(null);\n\n  useEffect(() => {\n    if (data) {\n      const formattedUsers = data.map((obj, i) => {\n        return {\n          id: i,\n          name: obj.name.first,\n          username: obj.name.first + \" \" + obj.name.last,\n        };\n      });\n      setUsers(formattedUsers);\n    }\n  }, [data]);\n\n  const addUser = (user) => {\n    user.id = users.length;\n    setUsers([...users, user]);\n  };\n\n  const deleteUser = (id) => {\n    setUsers(users.filter((user) => user.id !== id));\n  };\n\n  const [editing, setEditing] = useState(false);\n\n  const initialUser = { id: null, name: \"\", username: \"\" };\n\n  const [currentUser, setCurrentUser] = useState(initialUser);\n\n  const editUser = (id, user) => {\n    setEditing(true);\n    setCurrentUser(user);\n  };\n\n  const updateUser = (newUser) => {\n    setUsers(\n      users.map((user) => (user.id === currentUser.id ? newUser : user))\n    );\n    setCurrentUser(initialUser);\n    setEditing(false);\n  };\n\n  return (\n    <div className=\"container\">\n      <h1>React CRUD App with Hooks</h1>\n      <div className=\"row\">\n        <div className=\"five columns\">\n          {editing ? (\n            <div>\n              <h2>Edit user</h2>\n              <EditUserForm\n                currentUser={currentUser}\n                setEditing={setEditing}\n                updateUser={updateUser}\n              />\n            </div>\n          ) : (\n            <div>\n              <h2>Add user</h2>\n              <AddUserForm addUser={addUser} />\n            </div>\n          )}\n        </div>\n        {loading || !users ? (\n          <p>Loading...</p>\n        ) : (\n          <div className=\"seven columns\">\n            <h2>View users</h2>\n\n            <UserTable\n              users={users}\n              deleteUser={deleteUser}\n              editUser={editUser}\n            />\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App-async';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}